<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="/static/style.css">
  <title>blip1t - {{ thread.title }}</title>
</head>
<body>

<header style="display:flex; align-items:center;">
  <!-- left spacer -->
  <div style="flex:1;"></div>

  <!-- centered logo -->
  <img
  src="/static/logo.png"
  alt="blip1t Logo"
  style="height:80px; transform: translateX(10px);"
>

  <!-- right: back button -->
  <div style="flex:1; text-align:right;">
    <a href="/house/{{ thread.house_id }}" class="back-button">Back to House</a>
  </div>
</header>

<h1 style="text-align:center; margin-top:10px;">
  {{ thread.title }}
</h1>

<main>
  <ul class="posts-list">
  {% for p in posts %}
    <li class="post-item">
      <div class="post-content">
        <div style="margin-top:15px;">
          <b>{{ p.nickname }} | {{ p.tripcode_hash[:8] }}</b> {{ p.content }}
        </div>

        <!-- Replies -->
        <ul class="replies-list">
        {% for r in p.replies %}
          <li class="reply-item">
            <div style="margin-top:10px;">
              <b>{{ r.nickname }} | {{ r.tripcode_hash[:8] }}</b> {{ r.content }}
            </div>
          </li>
        {% endfor %}
        </ul>

        <!-- Reply form -->
        <form action="/post/{{ p.id }}/reply" method="POST" class="reply-form">
          <input type="text" name="nickname" placeholder="Nickname" required>
          <input type="text" name="tripcode" placeholder="Tripcode" required>
          <input type="text" name="content" placeholder="Reply" required>
          <button type="submit">Reply</button>
        </form>
      </div>
    </li>
  {% endfor %}
  </ul>
</main>

</body>
</html>
